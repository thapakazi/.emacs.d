* mu4e emacs config
  copied from Rob's [[http://www.macs.hw.ac.uk/~rs46/posts/2014-01-13-mu4e-email-client.html][sample]]
  #+BEGIN_SRC emacs-lisp
    (add-to-list 'load-path "/usr/share/emacs/site-lisp/mu4e/")
    (require 'smtpmail)

					    ; smtp
    ;; (setq message-send-mail-function 'smtpmail-send-it
    ;;       smtpmail-starttls-credentials
    ;;       '(("mail.example.com" 587 nil nil))
    ;;       smtpmail-default-smtp-server "mail.example.com"
    ;;       smtpmail-smtp-server "mail.example.com"
    ;;       smtpmail-smtp-service 587
    ;;       smtpmail-debug-info t)

    (setq message-send-mail-function 'smtpmail-send-it
	  starttls-use-gnutls t
	  mu4e-sent-messages-behavior 'sent
	  mu4e-sent-folder "/gmail/Sent Items"
	  mu4e-drafts-folder "/gmail/Drafts"
	  user-mail-address "milans dot thapa sev3nty 3igh7 @ gmail dot com"
	  user-full-name "Milan Thapa"
	  smtpmail-smtp-server "imap.gmail.com"
	  smtpmail-default-smtp-server "imap.gmail.com"
	  smtpmail-local-domain "thapakazi@SPLXM006"
	  smtpmail-smtp-user "milans dot thapa sev3nty 3igh7 @ gmail dot com"
	  smtpmail-stream-type 'starttls
	  smtpmail-smtp-service 993)


    (require 'mu4e)

    (setq mu4e-maildir (expand-file-name "~/.mail/gmail"))

    (setq mu4e-drafts-folder "/Drafts")
    (setq mu4e-sent-folder   "/Sent Items")
    (setq mu4e-trash-folder  "/Trash")
    (setq message-signature-file "~/.emacs.d/.signature") ; put your signature in this file

					    ; get mail
    (setq mu4e-get-mail-command "mbsync -c ~/.mbsyncrc gmail"
	  mu4e-html2text-command "w3m -T text/html"
	  mu4e-update-interval 120
	  mu4e-headers-auto-update t
	  mu4e-compose-signature-auto-include nil)

    (setq mu4e-maildir-shortcuts
	  '( ("/Inbox"    . ?i)
	     ("/Sent Items"   . ?s)
	     ("/Trash"       . ?t)
	     ("/github"       . ?g)
	     ("/Drafts"    . ?d)))

    ;; show images
    (setq mu4e-show-images t)

    ;; use imagemagick, if available
    (when (fboundp 'imagemagick-register-types)
      (imagemagick-register-types))

    ;; general emacs mail settings; used when composing e-mail
    ;; the non-mu4e-* stuff is inherited from emacs/message-mode
    (setq mu4e-reply-to-address "milans dot thapa sev3nty 3igh7 @ gmail dot com"
	  user-mail-address "milans dot thapa sev3nty 3igh7 @ gmail dot com"
	  user-full-name  "Milan Thapa")

    ;; don't save message to Sent Messages, IMAP takes care of this
					    ; (setq mu4e-sent-messages-behavior 'delete)

    ;; spell check
    (add-hook 'mu4e-compose-mode-hook
	      (defun my-do-compose-stuff ()
		"My settings for message composition."
		(set-fill-column 72)
		(flyspell-mode)))

  #+END_SRC
